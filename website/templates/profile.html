{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col s10 offset-s1">
        <h5 class="white-text">{{ username }}'s Profile</h5>
        <a href="{{ url_for('edit_user') }}?id={{ current_user.id }}" class="waves-effect waves-light btn-small">Edit Profile</a>
        <a href="{{ url_for('delete_user') }}?id={{ current_user.id }}" class="waves-effect waves-light btn-small">Delete Profile</a>
    </div>
</div>

<div class="row">
    <!-- Display the three most recently created workouts -->
    {% for workout in workouts %}
        <div class="col s12 m6 l4">
            <div class="card grey darken-3">
                <div class="card-content white-text">
                    <span class="card-title">{{ workout.workout_name }}</span>
                    <span class="card-title">{{ workout.workout_id }}</span>
                    <table class="striped centered">
                        <thead>
                          <tr>
                              <th>Exercise Name</th>
                              <th>Sets</th>
                              <th>Reps</th>
                              <th>Weight</th>
                          </tr>
                        </thead>
                
                        <tbody>
                        {% for log_exercise in workout.exercises %}
                          <tr>
                            <td>{{ log_exercise.exercise.exercise_name }}</td>
                            <td>{{ log_exercise.sets }}</td>
                            <td>{{ log_exercise.reps }}</td>
                            <td>{{ log_exercise.weight }}</td>
                          </tr>
                        {% endfor %}
                        </tbody>
                      </table>
                      <span class="card-title activator white-text">Comments<i class="material-icons right">more_vert</i></span>
                      <div class="card-reveal">
                        <span class="card-title white-text">Comments<i class="material-icons right">close</i></span>
                        <p>comments: {{ workout.comments }}</p>
                      </div>
                    
                </div>
                <div class="card-action">
                    <a href="{{ url_for('edit_workout') }}?workout_id={{ workout.workout_id }}" class="waves-effect waves-light btn-small">Edit</a>
                    <a href="{{ url_for('delete_workout') }}?workout_id={{ workout.workout_id }}" class="waves-effect waves-light btn-small">Delete</a>
                </div>
            </div>
        </div>
    {% endfor %}
    
</div>
{% endblock %}