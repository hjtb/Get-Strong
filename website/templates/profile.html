{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col s10 offset-s1">
        <h5 class="white-text">{{ username }}'s Profile</h5>
        <a href="{{ url_for('edit_user') }}?id={{ current_user.id }}" class="waves-effect waves-light btn-small deep-orange accent-3">Edit Profile</a>
        <a href="{{ url_for('delete_user') }}?id={{ current_user.id }}" class="waves-effect waves-light btn-small deep-orange accent-3">Delete Profile</a>
    </div>
</div>

<div class="row">
  <!-- Display the users created workouts -->
  {% for workout in workouts %}
    <div class="col s12 m6 l4">
      <div class="card white-text large grey darken-3" style="overflow:hidden";>
        <div class="card-title">{{ workout.workout_name }}</div>
        <div class="card-content" style="overflow:auto;">
          <p>Created: {{ workout.workout_date }}</p>
          <table class="striped centered activator">
            <thead>
              <tr>
                  <th>Exercise Name</th>
                  <th>Sets</th>
                  <th>Reps</th>
                  <th>Weight</th>
              </tr>
            </thead>
            <tbody>
              {% for log_exercise in workout.exercises %}
                <tr>
                  <td>{{ log_exercise.exercise.exercise_name }}</td>
                  <td>{{ log_exercise.sets }}</td>
                  <td>{{ log_exercise.reps }}</td>
                  <td>{{ log_exercise.weight }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
          <span class="card-title activator white-text">Comments<i class="material-icons right">more_vert</i></span>
          <div class="card-reveal">
            <div class="card-title white-text">Comments<i class="material-icons right">close</i></div>
            <p>comments: {{ workout.comments }}</p>
          </div>
        </div>
        <div class="card-action">
            <a class="waves-effect waves-light btn-small deep-orange accent-3" href="{{ url_for('edit_workout') }}?workout_id={{ workout.workout_id }}">Edit</a>
            <a class="waves-effect waves-light btn-small deep-orange accent-3" href="{{ url_for('delete_workout') }}?workout_id={{ workout.workout_id }}">Delete</a>
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}